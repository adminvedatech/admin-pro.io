(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{TNpa:function(a,t,e){"use strict";a.exports=function(a,t,e,i){void 0===t&&(t=1),void 0===e&&(e=10),void 0===i&&(i=10);var o,n,c=Math.ceil(a/e);if(t<1?t=1:t>c&&(t=c),c<=i)o=1,n=c;else{var s=Math.floor(i/2),r=Math.ceil(i/2)-1;t<=s?(o=1,n=i):t+r>=c?(o=c-i+1,n=c):(o=t-s,n=t+r)}var b=(t-1)*e,l=Math.min(b+e-1,a-1),d=Array.from(Array(n+1-o).keys()).map((function(a){return o+a}));return{totalItems:a,currentPage:t,pageSize:e,totalPages:c,startPage:o,endPage:n,startIndex:b,endIndex:l,pages:d}}},oAjb:function(a,t,e){"use strict";e.r(t),e.d(t,"ProveedoresModule",(function(){return L}));var i=e("ofXK"),o=e("tyNb"),n=e("fXoL");let c=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=n.Cb({type:a,selectors:[["app-agenda-proveedores"]],decls:2,vars:0,template:function(a,t){1&a&&(n.Lb(0,"p"),n.hc(1,"agenda-proveedores works!"),n.Kb())},styles:[""]}),a})();var s=e("HAwj"),r=e("XN1f"),b=e("14C6"),l=e("3Pt+"),d=e("V3FQ");function g(a,t){if(1&a&&(n.Lb(0,"tr",39),n.Lb(1,"td"),n.hc(2),n.Kb(),n.Lb(3,"td"),n.hc(4),n.Vb(5,"date"),n.Kb(),n.Lb(6,"td"),n.hc(7),n.Kb(),n.Lb(8,"td"),n.hc(9),n.Kb(),n.Lb(10,"td"),n.hc(11),n.Kb(),n.Lb(12,"td"),n.hc(13),n.Vb(14,"currency"),n.Kb(),n.Lb(15,"td"),n.hc(16),n.Vb(17,"currency"),n.Kb(),n.Lb(18,"td"),n.hc(19),n.Vb(20,"currency"),n.Kb(),n.Lb(21,"td"),n.hc(22),n.Kb(),n.Lb(23,"td"),n.Lb(24,"span",40),n.hc(25,"admin"),n.Kb(),n.Kb(),n.Lb(26,"td"),n.Lb(27,"span",41),n.hc(28,"admin"),n.Kb(),n.Kb(),n.Kb()),2&a){const a=t.$implicit;n.xb(2),n.ic(a.id),n.xb(2),n.ic(n.Xb(5,9,a.fecha,"dd/MM/yyyy")),n.xb(3),n.ic(a.serie),n.xb(2),n.ic(a.folio),n.xb(2),n.ic(a.supplier.company),n.xb(2),n.ic(n.Wb(14,12,a.subTotal)),n.xb(3),n.ic(n.Wb(17,14,a.impuesto)),n.xb(3),n.ic(n.Wb(20,16,a.total)),n.xb(3),n.ic(a.nombreArchivo)}}const h=function(a){return{current:a}};function u(a,t){if(1&a){const a=n.Mb();n.Lb(0,"a",42),n.Sb("click",(function(){n.dc(a);const t=n.Ub();return t.getFacturasPorPagina(t.pageSize,1)})),n.hc(1,"2"),n.Kb()}if(2&a){const a=n.Ub();n.Yb("ngClass",n.ac(1,h,1==a.pageNo))}}function p(a,t){if(1&a){const a=n.Mb();n.Lb(0,"a",43),n.Sb("click",(function(){n.dc(a);const t=n.Ub();return t.getFacturasPorPagina(t.pageSize,2)})),n.hc(1,"3"),n.Kb()}if(2&a){const a=n.Ub();n.Yb("ngClass",n.ac(1,h,2==a.pageNo))}}function f(a,t){if(1&a){const a=n.Mb();n.Lb(0,"a",44),n.Sb("click",(function(){n.dc(a);const t=n.Ub();return t.getFacturasPorPagina(t.pageSize,3)})),n.hc(1,"4"),n.Kb()}if(2&a){const a=n.Ub();n.Yb("ngClass",n.ac(1,h,3==a.pageNo))}}function v(a,t){if(1&a){const a=n.Mb();n.Lb(0,"a",45),n.Sb("click",(function(){n.dc(a);const t=n.Ub();return t.getFacturasPorPagina(t.pageSize,4)})),n.hc(1,"5"),n.Kb()}if(2&a){const a=n.Ub();n.Yb("ngClass",n.ac(1,h,4==a.pageNo))}}function m(a,t){if(1&a){const a=n.Mb();n.Lb(0,"a",46),n.Sb("click",(function(){n.dc(a);const t=n.Ub();return t.getFacturasPorPagina(t.pageSize,5)})),n.hc(1,"6"),n.Kb()}if(2&a){const a=n.Ub();n.Yb("ngClass",n.ac(1,h,5==a.pageNo))}}const y=function(a){return{disabled:a}},T=o.f.forChild([{path:"agenda-proveedores",component:c},{path:"facturas-proveedores",component:(()=>{class a{constructor(a,t,e){this._modalService=a,this._uploadService=t,this._getinvoice=e,this.idModal="proveedor",this.url="invoice/supplier-xml-file-iii",this.urlinvoice="/invoice/get-supplier-invoice",this.urlinvoiceCount="/supplier/get-count-supplier-invoice",this.urlinvoiceQuery="/invoice/students",this.invoices=[],this.pageSize="10",this.pageNo="0",this.ttlData="0",this.showing="10",this.buttonToShow="1",this.isAsc=!1,this.orderBy=""}ngOnInit(){this._uploadService.refreshNeeded$.subscribe(()=>{this._modalService.cerrarModalProveedor(),this.getFacturasPorPagina(this.pageSize,0),this.getTotalFacturasDeProveedores()}),this.getTotalFacturasDeProveedores(),this.getFacturasPorPagina(this.pageSize,0)}mostrarModal(){this._modalService.mostrarModalProveedor(this.idModal,this.url)}querySearch(a){console.log("SEARCH ",a),this._getinvoice.getInvoiceByQuery(this.urlinvoiceQuery,a).subscribe(a=>{console.log("SEARCH QUERY ",a)})}addPageNo(){this.buttonToShow>this.pageNo+1&&(this.pageNo=this.pageNo+1,this.getFacturasPorPagina(this.pageSize,this.pageNo)),console.log("PAGE NO ",this.pageNo)}restPageNo(){this.pageNo>0&&(this.pageNo=this.pageNo-1,this.getFacturasPorPagina(this.pageSize,this.pageNo))}setEventPageSize(a){this.pageSize=a.target.value,this.setPageSize()}setPageSize(){this.getFacturasPorPagina(this.pageSize,this.pageNo),console.log("PAGE SIZE ",this.pageSize,"PageNo: ",this.pageNo),console.log("TOTAL DATA ",this.ttlData),this.buttonToShow=this.ttlData/this.pageSize,console.log("BUTTON TO SHOW ",this.buttonToShow)}functionOrderBy(a){console.log("ORDER BY",this.isAsc),this.isAsc=!this.isAsc,console.log("ORDER BY ",this.isAsc),this.getTotalFacturasDeProveedores(),this.orderBy=a}getTotalFacturasDeProveedores(){this._getinvoice.getAllAccounts(this.urlinvoiceCount).subscribe(a=>{console.log("TOTAL DE FACTURAS ",a),this.ttlData=a,this.setPageSize()})}getFacturasPorPagina(a,t){this.pageNo=t,this._getinvoice.getInvoicePageableByPageNo(this.urlinvoice,this.pageSize,this.pageNo,this.orderBy,this.isAsc).subscribe(a=>{console.log("FACTURAS ",a),this.invoices=a})}}return a.\u0275fac=function(t){return new(t||a)(n.Ib(s.a),n.Ib(r.a),n.Ib(b.a))},a.\u0275cmp=n.Cb({type:a,selectors:[["app-facturas-proveedores"]],decls:72,vars:18,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive","m-t-40"],["id","myTable_wrapper",1,"dataTables_wrapper","no-footer"],["id","myTable_length",1,"dataTables_length"],["name","myTable_length","aria-controls","myTable",1,"",3,"change"],["value","10"],["value","25"],["value","50"],["value","100"],["id","myTable_length",1,"dataTables_length","ml-2"],[1,"btn","btn-primary","btn-sm",3,"click"],["id","myTable_filter",1,"dataTables_filter"],["type","search","placeholder","","aria-controls","myTable",1,"",2,"width","auto"],["search",""],[1,"btn","btn-primary","btn-sm","ml-2",3,"click"],["id","myTable","role","grid","aria-describedby","myTable_info",1,"table","table-bordered","table-striped","dataTable","no-footer"],["role","row"],["tabindex","0","aria-controls","myTable","aria-sort","ascending","aria-label","Name: activate to sort column descending",1,"sorting_asc",2,"width","2%","height","auto"],["tabindex","0","aria-controls","myTable","rowspan","1","colspan","1","aria-label","Position: activate to sort column ascending",1,"sorting",2,"width","5%",3,"click"],["tabindex","0","aria-controls","myTable","rowspan","1","colspan","1","aria-label","Office: ",1,"",2,"width","2%"],["tabindex","0","aria-controls","myTable","rowspan","1","colspan","1","aria-label","Age: activate to sort column ascending",1,"sorting",2,"width","5%",3,"click"],["tabindex","0","aria-controls","myTable","rowspan","1","colspan","1","aria-label","Start date: activate to sort column ascending",1,"",2,"width","30%"],["tabindex","0","aria-controls","myTable","rowspan","1","colspan","1","aria-label","Salary: activate to sort column ascending",1,"",2,"width","5%"],["tabindex","0","aria-controls","myTable","rowspan","1","colspan","1","aria-label","Salary: activate to sort column ascending",1,"sorting",2,"width","5%",3,"click"],["tabindex","0","aria-controls","myTable","rowspan","1","colspan","2","aria-label","Salary: activate to sort column ascending",1,"",2,"width","5%"],["role","row","class","odd",4,"ngFor","ngForOf"],["id","myTable_info","role","status","aria-live","polite",1,"dataTables_info"],["id","myTable_paginate",1,"dataTables_paginate","paging_simple_numbers"],["aria-controls","myTable","data-dt-idx","0","tabindex","0","id","myTable_previous",1,"paginate_button","previous",3,"ngClass","click"],["aria-controls","myTable","data-dt-idx","1","tabindex","0",1,"paginate_button",3,"ngClass","click"],["class","paginate_button","aria-controls","myTable","data-dt-idx","2","tabindex","0",3,"ngClass","click",4,"ngIf"],["class","paginate_button","aria-controls","myTable","data-dt-idx","3","tabindex","0",3,"ngClass","click",4,"ngIf"],["class","paginate_button","aria-controls","myTable","data-dt-idx","4","tabindex","0",3,"ngClass","click",4,"ngIf"],["class","paginate_button","aria-controls","myTable","data-dt-idx","5","tabindex","0",3,"ngClass","click",4,"ngIf"],["class","paginate_button","aria-controls","myTable","data-dt-idx","6","tabindex","0",3,"ngClass","click",4,"ngIf"],["aria-controls","myTable","data-dt-idx","7","tabindex","0","id","myTable_next",1,"paginate_button","next",3,"ngClass","click"],["role","row",1,"odd"],[1,"label","label-danger"],[1,"label","label-info"],["aria-controls","myTable","data-dt-idx","2","tabindex","0",1,"paginate_button",3,"ngClass","click"],["aria-controls","myTable","data-dt-idx","3","tabindex","0",1,"paginate_button",3,"ngClass","click"],["aria-controls","myTable","data-dt-idx","4","tabindex","0",1,"paginate_button",3,"ngClass","click"],["aria-controls","myTable","data-dt-idx","5","tabindex","0",1,"paginate_button",3,"ngClass","click"],["aria-controls","myTable","data-dt-idx","6","tabindex","0",1,"paginate_button",3,"ngClass","click"]],template:function(a,t){if(1&a){const a=n.Mb();n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"h4",2),n.hc(3,"Data Table"),n.Kb(),n.Lb(4,"h6",3),n.hc(5,"Data table example"),n.Kb(),n.Lb(6,"div",4),n.Lb(7,"div",5),n.Lb(8,"div",6),n.Lb(9,"label"),n.hc(10,"Mostrar "),n.Lb(11,"select",7),n.Sb("change",(function(a){return t.setEventPageSize(a)})),n.Lb(12,"option",8),n.hc(13,"10"),n.Kb(),n.Lb(14,"option",9),n.hc(15,"25"),n.Kb(),n.Lb(16,"option",10),n.hc(17,"50"),n.Kb(),n.Lb(18,"option",11),n.hc(19,"100"),n.Kb(),n.Kb(),n.hc(20," entradas"),n.Kb(),n.Kb(),n.Lb(21,"div",12),n.Lb(22,"button",13),n.Sb("click",(function(){return t.mostrarModal()})),n.hc(23,"Agragar Factura"),n.Kb(),n.Kb(),n.Lb(24,"div",14),n.Lb(25,"label"),n.hc(26,"Buscar por Folio:"),n.Jb(27,"input",15,16),n.Kb(),n.Lb(29,"button",17),n.Sb("click",(function(){n.dc(a);const e=n.cc(28);return t.querySearch(e.value)})),n.hc(30,"Enviar"),n.Kb(),n.Kb(),n.Lb(31,"table",18),n.Lb(32,"thead"),n.Lb(33,"tr",19),n.Lb(34,"th",20),n.hc(35,"#"),n.Kb(),n.Lb(36,"th",21),n.Sb("click",(function(){return t.functionOrderBy("fecha")})),n.hc(37,"Fecha"),n.Kb(),n.Lb(38,"th",22),n.hc(39,"Serie"),n.Kb(),n.Lb(40,"th",23),n.Sb("click",(function(){return t.functionOrderBy("folio")})),n.hc(41,"Folio"),n.Kb(),n.Lb(42,"th",24),n.hc(43,"Proveedor"),n.Kb(),n.Lb(44,"th",25),n.hc(45,"SubTotal"),n.Kb(),n.Lb(46,"th",25),n.hc(47,"Impuesto"),n.Kb(),n.Lb(48,"th",26),n.Sb("click",(function(){return t.functionOrderBy("total")})),n.hc(49,"Total"),n.Kb(),n.Lb(50,"th",25),n.hc(51,"Archivo"),n.Kb(),n.Lb(52,"th",27),n.hc(53,"Acciones"),n.Kb(),n.Kb(),n.Kb(),n.Lb(54,"tbody"),n.gc(55,g,29,18,"tr",28),n.Kb(),n.Kb(),n.Lb(56,"div",29),n.hc(57),n.Kb(),n.Lb(58,"div",30),n.Lb(59,"button",31),n.Sb("click",(function(){return t.restPageNo()})),n.hc(60,"Previous"),n.Kb(),n.Lb(61,"span"),n.Lb(62,"a",32),n.Sb("click",(function(){return t.getFacturasPorPagina(t.pageSize,0)})),n.hc(63,"1"),n.Kb(),n.gc(64,u,2,3,"a",33),n.gc(65,p,2,3,"a",34),n.gc(66,f,2,3,"a",35),n.gc(67,v,2,3,"a",36),n.gc(68,m,2,3,"a",37),n.Kb(),n.Lb(69,"button",38),n.Sb("click",(function(){return t.addPageNo()})),n.hc(70,"Next"),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Jb(71,"app-modal-upload")}2&a&&(n.xb(55),n.Yb("ngForOf",t.invoices),n.xb(2),n.kc("Showing ",t.showing," to ",t.pageSize," of ",t.ttlData," entries "),n.xb(2),n.Yb("ngClass",n.ac(12,y,0==t.pageNo)),n.xb(3),n.Yb("ngClass",n.ac(14,h,0==t.pageNo)),n.xb(2),n.Yb("ngIf",t.buttonToShow>1),n.xb(1),n.Yb("ngIf",t.buttonToShow>2),n.xb(1),n.Yb("ngIf",t.buttonToShow>3),n.xb(1),n.Yb("ngIf",t.buttonToShow>4),n.xb(1),n.Yb("ngIf",t.buttonToShow>5),n.xb(1),n.Yb("ngClass",n.ac(16,y,!(t.buttonToShow>t.pageNo+1))))},directives:[l.l,l.q,i.k,i.j,i.l,d.a],pipes:[i.e,i.c],styles:[""]}),a})()}]);var S=e("PCNd");e("TNpa");let x=(()=>{let a=class{};return a.\u0275mod=n.Gb({type:a}),a.\u0275inj=n.Fb({factory:function(t){return new(t||a)},imports:[[i.b]]}),a})(),L=(()=>{class a{}return a.\u0275mod=n.Gb({type:a}),a.\u0275inj=n.Fb({factory:function(t){return new(t||a)},providers:[b.a],imports:[[i.b,l.m,S.a,x,T]]}),a})()}}]);